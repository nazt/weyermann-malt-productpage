# /recap Tiered Scoring System

**Time**: 15:13 GMT+7

## What We Learned

- **Inline prompts > agent file instructions** for Haiku compliance - when format is critical, put the template directly in the Task prompt, not just agent definition
- **Scoring makes context actionable** - ðŸ”´/ðŸŸ /ðŸŸ¡/âšª indicators let you instantly see what's hot
- **Compact beats verbose** - `5m` better than `5 min ago`, bold headers better than `### Section`
- **Time is always valuable** - every table should have timestamps

## How Things Connect

- **Scoring formula**: Recency + Type + Impact = Priority
  - Recency: <1h=+3, <4h=+2, <24h=+1
  - Type: code=+3, .claude/*=+2, docs=+1, Ïˆ-*=+0
  - Impact: CLAUDE.md/package.json=+2, config=+1
- **Tiered output**: Tier 1 (files changed) â†’ Tier 2 (context) mirrors cognitive priority
- **/snapshot replaces /knowledge-save**: unified command, cleaner architecture

## Key Discoveries

- Haiku ignores agent file format instructions but follows inline prompt templates
- Working state (uncommitted changes) is valuable context for fresh starts
- Iterative refinement: 7 commits in 38 minutes to get format right

## Commits

| Time | Hash | Message |
|------|------|---------|
| 15:08 | `dfede9a` | refactor: Replace /knowledge-save with /snapshot |
| 15:03 | `6b3b75b` | refine: Compact /recap output format |
| 14:54 | `5c1786f` | feat: Add timestamps to all Tier 2 tables |
| 14:52 | `de1a838` | docs: Sync context-finder agent with scoring |
| 14:52 | `27ae264` | feat: Add importance scoring to /recap |
| 14:50 | `e877d13` | feat: Tiered /recap format with file changes first |
| 14:30 | `81aef55` | feat: Add /recap as alias |

## Tags

`recap` `scoring` `tiered` `context-finder` `haiku` `prompt-engineering` `knowledge-management`

## Raw Thoughts

- Could add "staleness" indicator for files not touched in days
- Scoring weights could be configurable per-project
- The inline prompt workaround feels like a hack - is there a better way?
- Maybe add file diff size (+/-) to score calculation
